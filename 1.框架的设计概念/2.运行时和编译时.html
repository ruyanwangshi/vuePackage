<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="#app"></div>
    <script>
      // 运行时框架
      const obj = {
        tag: 'div',
        children: [
          {
            tag: 'div',
            children: '测试',
          },
        ],
      }

      const html = `<div>
        <div>测试</div>
        </div>`

        // 先进性编译处理成虚拟dom
      function compile(htmlTemplate) {
        // 需要把htmlTemplate转换成虚拟dom
      }

      function render(vdom, root) {
        if (typeof vdom === 'object') {
          const el = document.createElement(vdom.tag)
          if (typeof vdom.children === 'string') {
            const text = document.createTextNode(vdom.children)
            el.appendChild(text)
          } else if (vdom.children) {
            vdom.children.forEach((element) => render(element, el))
          }
          console.log(root)
          root.appendChild(el)
        }
      }

      //   render(compile(html), document.getElementById('#app'))
      render(obj, document.getElementById('#app'))
    </script>
  </body>
</html>
